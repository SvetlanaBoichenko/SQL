JSON —текстовый формат обмена данными, который используется для передачи структурированной информации  
между различными системами и приложениями. Этот формат широко используется для передачи данных  
в приложениях между серверами и клиентами.   
  
Функция JSON_OBJECT служит для конструирования объектов JSON в формате  Ключ – Обьект.  
   
Функция JSON_ARRAYAGG принимает на вход столбец с выражениями SQL, преобразует каждое выражение в значение JSON
и возвращает один массив JSON, содержащий эти значения.  
  
В данном примере запрос, который собирает данные о крепости, первые четыре параметра собирает данныео крепости:   
ID, имя, местоположение, год основания.   
А затем собирает данные о содержимом крепости с помощью функции JSON_OBJECT.    
Внутри функции задается ключ в тестовом формате, а затем для создания второго параметра, используется Select   
с применением JSON_ARRAYAGG, которая из множества значений, соответствующих запросу, формирует массив значений  
, отвечающих запросу.   
Этот объект JSON_OBJECT. Будет обозначен как related_entities, содержащий в себе массивы данных,    
отвечающих условиям Select. Результат функции заключается в фигурные скобки.   
